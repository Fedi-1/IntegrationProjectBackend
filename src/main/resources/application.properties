spring.application.name=IntegrationProjectBackend

# Database Configuration - supports both local and production
# Defaults to local MySQL if environment variables not set
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/integrationproject}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Port configuration - Render sets PORT environment variable
server.port=${PORT:5069}

# Spring AI Configuration with Groq (Free Llama API)
spring.ai.openai.api-key=${GROQ_API_KEY}
spring.ai.openai.base-url=https://api.groq.com/openai
# Updated to current Groq model (llama-3.1-70b-versatile was decommissioned)
spring.ai.openai.chat.options.model=llama-3.3-70b-versatile
spring.ai.openai.chat.options.temperature=0.7

# Jackson Configuration - Ignore unknown properties from Groq API
spring.jackson.deserialization.fail-on-unknown-properties=false

# Email Configuration
# NOTE: Render free tier blocks SMTP ports (25, 465, 587)
# Solution: Use email service API (SendGrid, Mailgun, etc.) instead of SMTP
# For now, keeping Gmail config for local development
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_APP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# Alternative: Use SendGrid API (free tier: 100 emails/day)
# Add to pom.xml: <dependency><groupId>com.sendgrid</groupId><artifactId>sendgrid-java</artifactId></dependency>
# sendgrid.api.key=${SENDGRID_API_KEY}

